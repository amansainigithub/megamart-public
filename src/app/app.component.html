<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" 
  size = "small" 
  color = "#fff" 
  type = "ball-clip-rotate" 
  [fullScreen] = "true">
  <p style="color: white" > 
    Loading... </p>
</ngx-spinner>






<div id="app" *ngIf="!isLoggedIn" >

  <nav class="navbar">
    <div class="navbar-logo">
        <a href="#">
            <span class="logo-text">Shoppers</span>
            <small style="color: black;">Explore <span class="plus">Plus</span> ✨</small>
        </a>
    </div>
    <div class="navbar-search">
        <input type="text" placeholder="Search for Products, Brands and More">
    </div>
    <div class="navbar-menu">

          <!-- Cart Button with Count -->
          <div class="cart-container mx-3">
            <a href="#" routerLink="/cart" class="cart-link">
              <i class="bi bi-cart3"></i>
              <span class="cart-count" >
                {{ cartService.getCartLength() }}
              </span>
              Cart
            </a>
          </div>
          
        <!-- Cart ENDING with Count -->

        <a href="/login" class="nav-link" routerLink="login" mat-raised-button color="primary">
          <i class="bi bi-person"></i> Login
        </a>
        
    </div>
</nav>


  <div class="container-fluid">
    <router-outlet></router-outlet>
  </div>

</div>












<!-- ==== -->
<div id="app" *ngIf="isLoggedIn">

    <!-- NAVBAR STARTING  -->
    <nav class="navbar">
      <div class="navbar-logo">
        <a href="#">
          <span class="logo-text">Flipkart</span>
          <small style="color: black;">Explore <span class="plus">Plus</span> ✨</small>
        </a>
      </div>
      <div class="navbar-search">
        <input type="text" placeholder="Search for Products, Brands and More">
      </div>
      <div class="navbar-menu">

        <!-- Cart Button with Count -->
        <div class="cart-container mx-3">
          <a href="#" routerLink="/cart" class="cart-link">
            <i class="bi bi-cart3"></i>
            <span class="cart-count">
              {{ cartService.getCartLength() }}
            </span>
            Cart
          </a>
        </div>
        <!-- Cart ENDING with Count -->


        <!-- Profile Button -->
        <button mat-button [matMenuTriggerFor]="userProfile"
          class="d-flex align-items-center btn btn-light rounded-pill px-1">
          <span class="me-2">Aman Saini</span>
          <img src="../assets/Avitar Images/male avitar12.jpg"alt="User Avatar" class="rounded-circle" width="32"
            height="32">
          <mat-icon>arrow_drop_down</mat-icon>
        </button>

        <!-- Dropdown Menu -->
        <mat-menu #userProfile="matMenu">
          <button mat-menu-item [routerLink]="'/customer/dashboard'" (click)="setActiveTab('/customer/dashboard')"
            routerLinkActive="active-menu">
            <mat-icon>dashboard</mat-icon>
            <span>Dashboard</span>
          </button>

          <button mat-menu-item [routerLink]="'/customer/ordersCustomer'"
            (click)="setActiveTab('/customer/ordersCustomer')" routerLinkActive="active-menu">
            <mat-icon>history</mat-icon>
            <span>Order History</span>
          </button>

          <button mat-menu-item [routerLink]="'/profile'" (click)="setActiveTab('/customer/ordeer')"
            routerLinkActive="active-menu">
            <mat-icon>person</mat-icon>
            <span>My Profile</span>
          </button>

          <button mat-menu-item [routerLink]="'/change-password'" (click)="setActiveTab('/customer/change-password')"
            routerLinkActive="active-menu">
            <mat-icon>vpn_key</mat-icon>
            <span>Change Password</span>
          </button>

          <button mat-menu-item class="text-danger" (click)="logout()">
            <mat-icon class="text-danger">logout</mat-icon>
            <span>Log Out</span>
          </button>
        </mat-menu>

      </div>
    </nav>
    <!-- NAVBAR ENDING  -->

    <div class="container-fluid" *ngIf="isHomePage()">
      <div class="row">
    
        <nav class="col-md-3 col-lg-2 d-md-block bg-light sidebar p-3 rounded-3">
          <div class="position-sticky">
            <div class="text-center ">
              <img src="../assets/Avitar Images/male avitar12.jpg" alt="User Avatar" class="rounded-circle" width="80">
              <h5 class="mt-2 fs15">Aman Saini</h5>
            </div>
    
            <ul class="nav flex-column mt-3">
              <li class="nav-item">
                <a class="nav-link px-4 py-2 rounded d-flex align-items-center" routerLink="/customer/dashboard"
                  [class.active]="activeTab === '/customer/dashboard'" (click)="setActiveTab('/customer/dashboard')">
                  <i class="bi bi-speedometer2 me-2"></i> Dashboard
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link px-4 py-2 rounded d-flex align-items-center" routerLink="/customer/ordersCustomer"
                  [class.active]="activeTab === '/customer/ordersCustomer'"
                  (click)="setActiveTab('/customer/ordersCustomer')">
                  <i class="bi bi-card-list me-2"></i> Order History
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link px-4 py-2 rounded d-flex align-items-center" routerLink="/customer/manageAddress"
                  [class.active]="activeTab === '/customer/manageAddress'"
                  (click)="setActiveTab('/customer/manageAddress')">
                  <i class="bi bi-card-list me-2"></i> Address
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link px-4 py-2 rounded d-flex align-items-center" routerLink="/customer/wishlist"
                  [class.active]="activeTab === '/customer/dashboard1'" (click)="setActiveTab('/customer/dashboard1')">
                  <i class="bi bi-heart me-2"></i> Wishlist
                </a>
              </li>
            </ul>
          </div>
        </nav>
    
        <div class="col-md-10">
          <router-outlet></router-outlet>
        </div>
      </div>
    </div>
    
    <div class="container-fluid" *ngIf="!isHomePage()">
      <router-outlet></router-outlet>
    </div>

</div>

<!-- takes default width of 350px and top-right position   -->
<ng-toast />  
<!-- <button type="button" (click)="genToast()" >click</button>-->
