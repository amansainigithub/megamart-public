<div class="container mt-4">
    <div class="row">

        <!-- Sidebar Thumbnails -->
        <div class="col-md-1" *ngIf="productData; else loadingTemplate">
            <div class="d-flex flex-column vertical-thumbnails">
                <img 
                    *ngFor="let imgData of productData.productFilesResponses" 
                    [src]="imgData.fileUrl" 
                    class="img-thumbnail mb-2" 
                    alt="Thumbnail"
                    (mouseenter)="changeMainImage(imgData.fileUrl)">
            </div>
        </div>

        <ng-template #loadingTemplate>
            <p>Loading product details...</p>
          </ng-template>

        <!-- Main Product Image -->
        <div class="col-md-4 ">
            <img [src]="mainImage" class="img-fluid border sticky-image mb-2 " alt="Product Image">

            <div class="d-flex horizontal-thumbnails">
                <img *ngFor="let imgData of productData.productFilesResponses"
                 [src]="imgData.fileUrl" class="border img-thumbnail me-2" width="50px" alt="Color Option">
            </div> 
        </div>

        <!-- Product Details -->
        <div class="col-md-5">
            <p class="text-muted brandName custom-spacing brandName">{{productData.brandField}}</p>
            <p class="custom-spacing productName">{{productData.productName}}</p>

           <div class="mt-3">
            <p class="custom-spacing specialOffer">Special Offer</p>

            <p>
                <span class="productPrice" >₹{{productData.productPrice}}</span>
                <span class="productMrp ms-2" >
                    <del>₹{{productData.productMrp}}</del>
                </span>
                <span class="productOff" >
                   {{productData.calculatedDiscount}} off
                </span>
            </p>
           </div>

            <div class="rating align-items-center">
                <span class="badge" style="background-color: #26A541;">4.7 ★</span>
                <p class="text-muted mt-1">15,039 ratings and 738 reviews</p>
            </div>
            

            <!-- <h6>Color</h6>
            <div class="d-flex">
                <img src="color1.jpg" class="border img-thumbnail me-2" width="50px" alt="Color Option">
                <img src="color2.jpg" class="border img-thumbnail me-2" width="50px" alt="Color Option">
                <img src="color3.jpg" class="border img-thumbnail me-2" width="50px" alt="Color Option">
            </div> -->

            <h6 class="mt-3">Select Size</h6>

              <div class="btn-group" role="group" aria-label="Size Selection">
                <ng-container *ngFor="let variant of productData.sellerProductVarientResponses; let i = index">
                  <input type="radio" 
                         class="btn-check" 
                         name="btnradio" 
                         [id]="'btnradio' + i" 
                         autocomplete="off" 
                         [checked]="i === 0">
                  <label class="btn radioBtn" [for]="'btnradio' + i">
                    {{ variant.productLabel }}
                  </label>
                </ng-container>
                <p class="font-weight-bolder" >
                    Size Chart 
                    <img src="../../../../assets/SizeChart/size-guides.png" alt="">
                </p>
              </div>
              

            <!-- <h6 class="mt-3">Available offers</h6>
            <ul class="list-unstyled">
                <li>✅ Bank Offer 5% Unlimited Cashback on Flipkart Axis Bank Credit Card</li>
                <li>✅ Bank Offer 10% off up to ₹1,250 on PNB Credit Card Transactions</li>
                <li>✅ Special Price Get at flat ₹579</li>
                <li><a href="#" class="text-primary">+4 more offers</a></li>
            </ul> -->

            <div class="mt-4 d-flex gap-2">
                <button class="btn buyNow btn-lg flex-fill">
                    <i class="bi bi-bag-heart"></i>
                    BUY NOW
                </button>
                <button type="button" class="btn btn-warning  btn-lg flex-fill">
                    <i class="bi bi-cart4"></i> ADD TO CART
                </button>
            </div>
            

            <div class="mt-4">
                <p class="productDetails custom-spacing">Product Details</p>
                <div class="row mb-3 mt-1" *ngFor="let pd of productData.productDetailsResponses">
                    <div class="col-6 col-sm-4  pdh">{{pd.pdKey}}</div>
                    <div class="col-6 col-sm-8 ">{{pd.pdValue}}</div>
                </div>
            </div>
            
            

            <!-- <div class="mt-4">
                <p class="productDetails">Product Details</p>
                <div class="row" >
                    <div class="col-md-6" *ngFor="let pd of productData.productDetailsResponses">
                        <p class="mb-0" style="font-size: 12px;">{{pd.pdKey}}</p>
                        <p>{{pd.pdValue}}</p>
                        <hr>
                    </div>
                </div>
            </div> -->

            <hr>
            <div>
                <ul class="list-unstyled" [innerHTML]="productData.description"></ul>
            </div>
            

            <h6 class="mt-3">Available offers</h6>
            <ul class="list-unstyled">
                <li>✅ Bank Offer 5% Unlimited Cashback on Flipkart Axis Bank Credit Card</li>
                <li>✅ Bank Offer 10% off up to ₹1,250 on PNB Credit Card Transactions</li>
                <li>✅ Special Price Get at flat ₹579</li>
                <li><a href="#" class="text-primary">+4 more offers</a></li>
            </ul>

        </div>
    </div>
</div>









<!-- ======================================================================================================== -->

<!-- SIMILART PRODUCT SHOWING STARTING -->

<div class="container mt-5">
    <h5 >Similar Products</h5>
</div>

<div class="container">
    <div class="row">
        <ng-container *ngFor="let data of similarProducts">
            <div *ngIf="productId?.toString() !== data.id?.toString()" 
                class="col-xl-3 col-lg-3 col-md-4 col-sm-4 col-6 mb-4">
                
                <a [routerLink]="['/pw']" [queryParams]="{ 
                    cI: data.bornCategoryId,
                    cN: data.bornCategoryName,
                    pI: data.id,
                    pN: data.productName }"
                    class="card product-card h-100">
                    
                    <div *ngIf="data?.productFilesResponses?.length" class="product-image-container">
                        <img [src]="data.productFilesResponses[0].fileUrl" alt="Product Image" class="product-image img-fluid">
                        <div class="rating-review">
                            4.4 <i class="bi bi-star-fill"></i> | 1.3k
                        </div>
                        <div class="tag">OVERSIZED FIT</div>
                    </div>

                    <div *ngIf="data?.productFilesResponses?.length" class="card-body p-2">
                        <p class="product-title">{{ data.brandField }}</p>
                        <p class="productName mb-1">
                            {{ data?.productName | slice:0:30 }}{{ data?.productName?.length > 35 ? '...' : '' }}
                        </p>
                        <p class="price-details mb-0">
                            <span class="actualPrice">Rs.{{ data.productPrice }}</span>
                            <span class="mrpPrice mx-1">Rs.{{ data.productMrp }}</span>
                            <span class="priceOff mx-1">({{ data.calculatedDiscount }})</span>
                        </p>
                    </div>
                </a>

            </div>
        </ng-container>
    </div>
</div>


                

<!-- SIMILART PRODUCT SHOWING ENDING -->
